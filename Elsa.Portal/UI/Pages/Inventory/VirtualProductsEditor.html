<!DOCTYPE html>
<html>
<head>
    <title>ELSA</title>
    <meta charset="utf-8" />
    <script src="/Bundles/Bundle.ashx?bundle=Lanta"></script>
    <script src="/Script/Apps/User/UserVM.js"></script>
    <script src="/UI/Controls/Common/PickItemDialog.js"></script>
    <link href="/Style/Appearance.css" rel="stylesheet" />
    <link href="/Style/Layout.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <link href="VpEditorStyle.css" rel="stylesheet" />
    <script src="/UI/Controls/Common/TabControl.js"></script>
    <script src="/UI/Controls/Common/MaterialList/MaterialListVm.js"></script>
    <script src="/Script/Apps/Inventory/VirtualProducts/VirtualProductsVM.js"></script>
</head>
<body>
    <div replace-by="/UI/Widgets/User/UserWidget.html"></div>


    <div class="panel w4" id="mainTab">
    
    </div>
    
    <script>
        var tab = new app.ui.TabControl(document.getElementById("mainTab"));
        tab.addTab("Produkty", "/UI/Controls/Inventory/TaggingEditor.html");
        tab.addTab("Tagy", "/UI/Controls/Inventory/VirtualProducts.html");
        //tab.addTab("Materiály", "/UI/Controls/Inventory/MaterialsEditor.html");
        
        app.virtualProductsEditor.vm.getMaterialInventories(function (inventories) {

            for (var i = 0; i < inventories.length; i++) {
                var inventory = inventories[i];
                tab.addTab(inventory.Name, "/UI/Controls/Inventory/MaterialsEditor.html", inventory, function (i) {
                    app.virtualProductsEditor.vm.setCurrentMaterialInventory(i.Id);
                });
            }

        });

    </script>

    
    <div replace-by="/UI/Controls/Common/BusyOverlay.html"></div>
</body>
</html>
