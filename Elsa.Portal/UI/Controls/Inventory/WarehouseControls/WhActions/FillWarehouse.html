<div id="fillWh">
    <div class="stackLeft">
        <div id="autosug" class="autocomplete" placeholder="Název materiálu">
            <input id="materialName" />
        </div>

        <input id="volume" placeholder="Množství" type="number" step="0.01" align="right"/>

        <input id="unit" placeholder="Jednotka"/>
    </div>
    
    <input id="description" placeholder="Popis" />
    
    <div class="stackRight">
        <button event-bind="click:onSaveClick"></button>
    </div>
</div>

<script>
    lt.element("fillWh").attach(function(materialName, volume, unit, description, autosug) {
        
        app.ui.autosuggest(autosug, app.warehouseActions.vm.searchMaterialNames);

        var resetForm = function() {
            materialName.value = '';
            volume.value = '';
            unit.value = '';
            description.value = '';

            setTimeout(function () {
                materialName.focus();
            }, 0);
        };

        resetForm();

        this.onSaveClick = function() {
            app.warehouseActions.vm.saveWarehouseFillAction(materialName.value,
                volume.value,
                unit.value,
                description.value,
                resetForm);
        };
    });
</script>